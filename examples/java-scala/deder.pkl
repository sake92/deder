amends "../../config/DederProject.pkl"

//amends "https://sake92.github.io/deder/config/DederProject.pkl"

local const javaProject = new JavaModule {
  id = "java-project"
}

local const scalaProject = new ScalaModule {
  scalaVersion = "3.7.2"
  id = "scala-project"
  moduleDeps {
    javaProject
  }
  /*scalacPluginDeps {
    "org.wartremover:::wartremover:3.5.0"
  }
  scalacOptions {
    "-Xfatal-warnings"
    "-P:wartremover:on-wart-load-error:failure"
    "-P:wartremover:traverser:org.wartremover.warts.ArrayEquals"
  }*/
}

local const javaScalaProject = new ScalaModule {
  id = "java-scala-project"
  scalaVersion = "3.7.2"
  deps {
    "org.immutables:value-annotations:2.12.0"
  }
  javacAnnotationProcessorDeps {
    "org.immutables:value:2.12.0"
  }
}

modules {
  javaProject
  scalaProject
  javaScalaProject
}
