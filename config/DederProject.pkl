module ba.sake.deder.config.DederProject

modules: Listing<DederModule>

abstract class DederModule {
  id: String
  root: String = id // module root directory, relative to project root
  moduleDeps: Listing<DederModule>
  type: ModuleType
}

typealias ModuleType = "java" | "scala"


class JavaModule extends DederModule {
  type: ModuleType = "java"
  sources: Listing<String> = new { "src" }
  resources: Listing<String> = new { "resources" }
  javacOptions: Listing<String> = new { }
  mainClass: String? = null
}

class ScalaModule extends DederModule {
  type: ModuleType = "scala"
  scalaVersion: String
  sources: Listing<String> = new { "src" }
  resources: Listing<String> = new { "resources" }
  javacOptions: Listing<String> = new { }
  scalacOptions: Listing<String> = new { }
  mainClass: String? = null
}
